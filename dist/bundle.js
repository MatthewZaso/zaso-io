!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t,i){var n;
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
/*! Gecko-Picture - v1.0
 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
 * Firefox's early picture implementation (prior to FF41) is static and does
 * not react to viewport changes. This tiny module fixes this.
 */
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
/*! Gecko-Picture - v1.0
 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
 * Firefox's early picture implementation (prior to FF41) is static and does
 * not react to viewport changes. This tiny module fixes this.
 */
!function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,i=document.createElement("source"),n=function(e){var t,n,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=i.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,n=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=n}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)n(t[e])},s=function(){clearTimeout(t),t=setTimeout(r,99)},o=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){s(),o&&o.addListener&&o.addListener(s)};return i.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),s}())}(window),
/*! Picturefill - v3.0.2
 * http://scottjehl.github.io/picturefill
 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
 *  License: MIT
 */
function(r,s,o){"use strict";var a,c,l;s.createElement("picture");var u={},d=!1,h=function(){},p=s.createElement("img"),f=p.getAttribute,m=p.setAttribute,g=p.removeAttribute,v=s.documentElement,A={},w={algorithm:""},y=navigator.userAgent,b=/rident/.test(y)||/ecko/.test(y)&&y.match(/rv\:(\d+)/)&&RegExp.$1>35,E="currentSrc",I=/\s+\+?\d+(e\d+)?w/,T=/(\([^)]+\))?\s*(.+)/,_=r.picturefillCFG,S="font-size:100%!important;",C=!0,k={},x={},z=r.devicePixelRatio,L={px:1,in:96},R=s.createElement("a"),O=!1,M=/^[ \t\n\r\u000c]+/,B=/^[, \t\n\r\u000c]+/,H=/^[^ \t\n\r\u000c]+/,D=/[,]+$/,P=/^\d+$/,U=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,V=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n||!1):e.attachEvent&&e.attachEvent("on"+t,i)},N=function(e){var t={};return function(i){return i in t||(t[i]=e(i)),t[i]}};function W(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var F=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=N(function(e){return"return "+function(){for(var e=arguments,t=0,i=e[0];++t in e;)i=i.replace(e[t],e[++t]);return i}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(i,n){var r;if(!(i in k))if(k[i]=!1,n&&(r=i.match(e)))k[i]=r[1]*L[r[2]];else try{k[i]=new Function("e",t(i))(L)}catch(e){}return k[i]}}(),q=function(e,t){return e.w?(e.cWidth=u.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},$=function(e){if(d){var t,i,n,r=e||{};if(r.elements&&1===r.elements.nodeType&&("IMG"===r.elements.nodeName.toUpperCase()?r.elements=[r.elements]:(r.context=r.elements,r.elements=null)),n=(t=r.elements||u.qsa(r.context||s,r.reevaluate||r.reselect?u.sel:u.selShort)).length){for(u.setupRun(r),O=!0,i=0;i<n;i++)u.fillImg(t[i],r);u.teardownRun(r)}}};function G(e,t,i,n){var r,s,o;return"saveData"===w.algorithm?e>2.7?o=i+1:(s=(t-i)*(r=Math.pow(e-.6,1.5)),n&&(s+=.1*r),o=e+s):o=i>1?Math.sqrt(e*t):e,o>i}function j(e,t){return e.res-t.res}function Q(e,t){var i,n,r;if(e&&t)for(r=u.parseSet(t),e=u.makeUrl(e),i=0;i<r.length;i++)if(e===u.makeUrl(r[i].url)){n=r[i];break}return n}r.console&&console.warn,E in p||(E="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=s.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),u.ns=("pf"+(new Date).getTime()).substr(0,9),u.supSrcset="srcset"in p,u.supSizes="sizes"in p,u.supPicture=!!r.HTMLPictureElement,u.supSrcset&&u.supPicture&&!u.supSizes&&function(e){p.srcset="data:,a",e.src="data:,a",u.supSrcset=p.complete===e.complete,u.supPicture=u.supSrcset&&u.supPicture}(s.createElement("img")),u.supSrcset&&!u.supSizes?function(){var e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",t=s.createElement("img"),i=function(){2===t.width&&(u.supSizes=!0),c=u.supSrcset&&!u.supSizes,d=!0,setTimeout($)};t.onload=i,t.onerror=i,t.setAttribute("sizes","9px"),t.srcset=e+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",t.src=e}():d=!0,u.selShort="picture>img,img[srcset]",u.sel=u.selShort,u.cfg=w,u.DPR=z||1,u.u=L,u.types=A,u.setSize=h,u.makeUrl=N(function(e){return R.href=e,R.href}),u.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},u.matchesMedia=function(){return r.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?u.matchesMedia=function(e){return!e||matchMedia(e).matches}:u.matchesMedia=u.mMQ,u.matchesMedia.apply(this,arguments)},u.mMQ=function(e){return!e||F(e)},u.calcLength=function(e){var t=F(e,!0)||!1;return t<0&&(t=!1),t},u.supportsType=function(e){return!e||A[e]},u.parseSize=N(function(e){var t=(e||"").match(T);return{media:t&&t[1],length:t&&t[2]}}),u.parseSet=function(e){return e.cands||(e.cands=function(e,t){function i(t){var i,n=t.exec(e.substring(l));if(n)return i=n[0],l+=i.length,i}var n,r,s,o,a,c=e.length,l=0,u=[];function d(){var e,i,s,o,a,c,l,d,h,p=!1,f={};for(o=0;o<r.length;o++)c=(a=r[o])[a.length-1],l=a.substring(0,a.length-1),d=parseInt(l,10),h=parseFloat(l),P.test(l)&&"w"===c?((e||i)&&(p=!0),0===d?p=!0:e=d):U.test(l)&&"x"===c?((e||i||s)&&(p=!0),h<0?p=!0:i=h):P.test(l)&&"h"===c?((s||i)&&(p=!0),0===d?p=!0:s=d):p=!0;p||(f.url=n,e&&(f.w=e),i&&(f.d=i),s&&(f.h=s),s||i||e||(f.d=1),1===f.d&&(t.has1x=!0),f.set=t,u.push(f))}function h(){for(i(M),s="",o="in descriptor";;){if(a=e.charAt(l),"in descriptor"===o)if(W(a))s&&(r.push(s),s="",o="after descriptor");else{if(","===a)return l+=1,s&&r.push(s),void d();if("("===a)s+=a,o="in parens";else{if(""===a)return s&&r.push(s),void d();s+=a}}else if("in parens"===o)if(")"===a)s+=a,o="in descriptor";else{if(""===a)return r.push(s),void d();s+=a}else if("after descriptor"===o)if(W(a));else{if(""===a)return void d();o="in descriptor",l-=1}l+=1}}for(;;){if(i(B),l>=c)return u;n=i(H),r=[],","===n.slice(-1)?(n=n.replace(D,""),d()):h()}}(e.srcset,e)),e.cands},u.getEmValue=function(){var e;if(!a&&(e=s.body)){var t=s.createElement("div"),i=v.style.cssText,n=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",v.style.cssText=S,e.style.cssText=S,e.appendChild(t),a=t.offsetWidth,e.removeChild(t),a=parseFloat(a,10),v.style.cssText=i,e.style.cssText=n}return a||16},u.calcListLength=function(e){if(!(e in x)||w.uT){var t=u.calcLength(function(e){var t,i,n,r,s,o,a=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;function l(e){return!!(a.test(e)&&parseFloat(e)>=0)||!!c.test(e)||"0"===e||"-0"===e||"+0"===e}for(n=(i=function(e){var t,i="",n=[],r=[],s=0,o=0,a=!1;function c(){i&&(n.push(i),i="")}function l(){n[0]&&(r.push(n),n=[])}for(;;){if(""===(t=e.charAt(o)))return c(),l(),r;if(a){if("*"===t&&"/"===e[o+1]){a=!1,o+=2,c();continue}o+=1}else{if(W(t)){if(e.charAt(o-1)&&W(e.charAt(o-1))||!i){o+=1;continue}if(0===s){c(),o+=1;continue}t=" "}else if("("===t)s+=1;else if(")"===t)s-=1;else{if(","===t){c(),l(),o+=1;continue}if("/"===t&&"*"===e.charAt(o+1)){a=!0,o+=2;continue}}i+=t,o+=1}}}(e)).length,t=0;t<n;t++)if(l(s=(r=i[t])[r.length-1])){if(o=s,r.pop(),0===r.length)return o;if(r=r.join(" "),u.matchesMedia(r))return o}return"100vw"}(e));x[e]=t||L.width}return x[e]},u.setRes=function(e){var t;if(e)for(var i=0,n=(t=u.parseSet(e)).length;i<n;i++)q(t[i],e.sizes);return t},u.setRes.res=q,u.applySetCandidate=function(e,t){if(e.length){var i,n,r,s,o,a,c,l,d,h=t[u.ns],p=u.DPR;if(a=h.curSrc||t[E],(c=h.curCan||function(e,t,i){var n;return!i&&t&&(i=(i=e[u.ns].sets)&&i[i.length-1]),(n=Q(t,i))&&(t=u.makeUrl(t),e[u.ns].curSrc=t,e[u.ns].curCan=n,n.res||q(n,n.set.sizes)),n}(t,a,e[0].set))&&c.set===e[0].set&&((d=b&&!t.complete&&c.res-.1>p)||(c.cached=!0,c.res>=p&&(o=c))),!o)for(e.sort(j),o=e[(s=e.length)-1],n=0;n<s;n++)if((i=e[n]).res>=p){o=e[r=n-1]&&(d||a!==u.makeUrl(i.url))&&G(e[r].res,i.res,p,e[r].cached)?e[r]:i;break}o&&(l=u.makeUrl(o.url),h.curSrc=l,h.curCan=o,l!==a&&u.setSrc(t,o),u.setSize(t))}},u.setSrc=function(e,t){var i;e.src=t.url,"image/svg+xml"===t.set.type&&(i=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=i))},u.getSet=function(e){var t,i,n,r=!1,s=e[u.ns].sets;for(t=0;t<s.length&&!r;t++)if((i=s[t]).srcset&&u.matchesMedia(i.media)&&(n=u.supportsType(i.type))){"pending"===n&&(i=n),r=i;break}return r},u.parseSets=function(e,t,i){var n,r,s,o,a=t&&"PICTURE"===t.nodeName.toUpperCase(),l=e[u.ns];(void 0===l.src||i.src)&&(l.src=f.call(e,"src"),l.src?m.call(e,"data-pfsrc",l.src):g.call(e,"data-pfsrc")),(void 0===l.srcset||i.srcset||!u.supSrcset||e.srcset)&&(n=f.call(e,"srcset"),l.srcset=n,o=!0),l.sets=[],a&&(l.pic=!0,function(e,t){var i,n,r,s,o=e.getElementsByTagName("source");for(i=0,n=o.length;i<n;i++)(r=o[i])[u.ns]=!0,(s=r.getAttribute("srcset"))&&t.push({srcset:s,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}(t,l.sets)),l.srcset?(r={srcset:l.srcset,sizes:f.call(e,"sizes")},l.sets.push(r),(s=(c||l.src)&&I.test(l.srcset||""))||!l.src||Q(l.src,r)||r.has1x||(r.srcset+=", "+l.src,r.cands.push({url:l.src,d:1,set:r}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=void 0,l.supported=!(a||r&&!u.supSrcset||s&&!u.supSizes),o&&u.supSrcset&&!l.supported&&(n?(m.call(e,"data-pfsrcset",n),e.srcset=""):g.call(e,"data-pfsrcset")),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!==u.makeUrl(l.src))&&(null===l.src?e.removeAttribute("src"):e.src=l.src),l.parsed=!0},u.fillImg=function(e,t){var i,n=t.reselect||t.reevaluate;e[u.ns]||(e[u.ns]={}),i=e[u.ns],(n||i.evaled!==l)&&(i.parsed&&!t.reevaluate||u.parseSets(e,e.parentNode,t),i.supported?i.evaled=l:function(e){var t,i=u.getSet(e),n=!1;"pending"!==i&&(n=l,i&&(t=u.setRes(i),u.applySetCandidate(t,e))),e[u.ns].evaled=n}(e))},u.setupRun=function(){O&&!C&&z===r.devicePixelRatio||(C=!1,z=r.devicePixelRatio,k={},x={},u.DPR=z||1,L.width=Math.max(r.innerWidth||0,v.clientWidth),L.height=Math.max(r.innerHeight||0,v.clientHeight),L.vw=L.width/100,L.vh=L.height/100,l=[L.height,L.width,z].join("-"),L.em=u.getEmValue(),L.rem=L.em)},u.supPicture?($=h,u.fillImg=h):function(){var e,t=r.attachEvent?/d$|^c/:/d$|^c|^i/,i=function(){var r=s.readyState||"";n=setTimeout(i,"loading"===r?200:999),s.body&&(u.fillImgs(),(e=e||t.test(r))&&clearTimeout(n))},n=setTimeout(i,s.body?9:99),o=v.clientHeight;V(r,"resize",function(e,t){var i,n,r=function(){var s=new Date-n;s<t?i=setTimeout(r,t-s):(i=null,e())};return function(){n=new Date,i||(i=setTimeout(r,t))}}(function(){C=Math.max(r.innerWidth||0,v.clientWidth)!==L.width||v.clientHeight!==o,o=v.clientHeight,C&&u.fillImgs()},99)),V(s,"readystatechange",i)}(),u.picturefill=$,u.fillImgs=$,u.teardownRun=h,$._=u,r.picturefillCFG={pf:u,push:function(e){var t=e.shift();"function"==typeof u[t]?u[t].apply(u,e):(w[t]=e[0],O&&u.fillImgs({reselect:!0}))}};for(;_&&_.length;)r.picturefillCFG.push(_.shift());r.picturefill=$,"object"==typeof e.exports?e.exports=$:void 0===(n=function(){return $}.call(t,i,t,e))||(e.exports=n),u.supPicture||(A["image/webp"]=function(e,t){var i=new r.Image;return i.onerror=function(){A[e]=!1,$()},i.onload=function(){A[e]=1===i.width,$()},i.src=t,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document)},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(1);var n=i(0),r=i.n(n),s=function(e,t){var i,n,r,s,o=0;return function(){i=this,n=arguments;var e=new Date-o;return s||(e>=t?a():s=setTimeout(a,t-e)),r};function a(){s=0,o=+new Date,r=e.apply(i,n),i=null,n=null}};var o=function(e,t,i){var n,r,s,o,a;function c(){var l=Date.now()-o;l<t&&l>=0?n=setTimeout(c,t-l):(n=null,i||(a=e.apply(s,r),s=r=null))}null==t&&(t=100);var l=function(){s=this,r=arguments,o=Date.now();var l=i&&!n;return n||(n=setTimeout(c,t)),l&&(a=e.apply(s,r),s=r=null),a};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(a=e.apply(s,r),s=r=null,clearTimeout(n),n=null)},l},a=0;function c(e,t){Object.keys(e).forEach(function(i){e[i].call(null,t[0],t[1])})}function l(){return{top:window.pageYOffset,left:window.pageXOffset}}function u(){return{width:window.innerWidth,height:window.innerHeight}}function d(e,t){var i="OdoWindowEvents"+(a+=1);return e[i]=t,i}var h={_scrollCallbacks:{},_fastScrollCallbacks:{},_resizeCallbacks:{},_leadingResizeCallbacks:{},_callbacks:{resize:function(){var e=u();c(h._resizeCallbacks,[e.width,e.height])},leadingResize:function(){var e=u();c(h._leadingResizeCallbacks,[e.width,e.height])},scroll:function(){var e=l();c(h._scrollCallbacks,[e.top,e.left])},fastScroll:function(){var e=l();c(h._fastScrollCallbacks,[e.top,e.left])}},Timing:{DEBOUNCE_TIME:500,THROTTLE_TIME_DEFAULT:500,THROTTLE_TIME_FAST:150},onScroll:function(e){return d(h._scrollCallbacks,e)},onFastScroll:function(e){return d(h._fastScrollCallbacks,e)},onResize:function(e){return d(h._resizeCallbacks,e)},onLeadingResize:function(e){return d(h._leadingResizeCallbacks,e)},remove:function(e){delete h._scrollCallbacks[e],delete h._fastScrollCallbacks[e],delete h._resizeCallbacks[e],delete h._leadingResizeCallbacks[e]}},p=o(h._callbacks.resize,h.Timing.DEBOUNCE_TIME),f=o(h._callbacks.leadingResize,h.Timing.DEBOUNCE_TIME,!0),m=s(h._callbacks.scroll,h.Timing.THROTTLE_TIME_DEFAULT),g=s(h._callbacks.fastScroll,h.Timing.THROTTLE_TIME_FAST);h._resizeCallback=function(){f(),p()},h._scrollCallback=function(){m(),g()},window.addEventListener("resize",h._resizeCallback),window.addEventListener("scroll",h._scrollCallback);var v=h,A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),y=function(){function e(t,i){if(A(this,e),this.parent=i,this.id=Math.random().toString(36).substring(7),this.triggered=!1,this.threshold=200,this.isThresholdPercentage=!1,Object.assign(this,t),"function"!=typeof this.enter)throw new TypeError("Viewport.add :: No `enter` function provided in Viewport options.");this.parseThreshold(),this.hasExitCallback="function"==typeof this.exit,this.update()}return e.prototype.update=function(){var e=this.element.getBoundingClientRect();this.height=this.element.offsetHeight,this.width=this.element.offsetWidth,this.top=e.top+window.pageYOffset,this.left=e.left+window.pageXOffset,this.right=this.width+this.left,this.bottom=this.height+this.top},e.prototype.parseThreshold=function(){var e=this.threshold;this.threshold=parseFloat(e),"string"==typeof e&&e.indexOf("%")>-1?(this.isThresholdPercentage=!0,this.threshold=this.threshold/100):this.threshold<1&&this.threshold>0&&(this.isThresholdPercentage=!0)},e.prototype.dispose=function(){this.element=null,this.enter=null,this.exit=null,this.parent=null},w(e,[{key:"offset",get:function(){return this.isThresholdPercentage?this.threshold*this.parent.viewportHeight:this.threshold}}]),e}(),b=null;function E(e,t,i){return t<=e&&e<=i}var I=function(){function e(){A(this,e),this.addId=null,this.hasActiveHandlers=!1,this.items=new Map,this.viewportHeight=window.innerHeight,this.viewportWidth=document.documentElement.clientWidth,this.viewportTop=0,requestAnimationFrame(this.handleScroll.bind(this))}return e.prototype.bindEvents=function(){this.resizeId=v.onResize(this.update.bind(this)),this.scrollId=v.onFastScroll(this.handleScroll.bind(this)),this.hasActiveHandlers=!0},e.prototype.unbindEvents=function(){0===this.items.size&&(v.remove(this.resizeId),v.remove(this.scrollId),this.hasActiveHandlers=!1)},e.prototype.add=function(e){var t=new y(e,this);return this.items.set(t.id,t),this.hasActiveHandlers||this.bindEvents(),t.id},e.prototype.saveDimensions=function(){return this.items.forEach(function(e){e.update()}),this.viewportHeight=window.innerHeight,this.viewportWidth=document.documentElement.clientWidth,this},e.prototype.handleScroll=function(){return this.setScrollTop().process()},e.prototype.update=function(){return this.saveDimensions().process()},e.prototype.triggerEnter=function(t){t.enter.call(t.element,t),t.hasExitCallback?t.triggered=!0:(e.remove(t.id),this.unbindEvents())},e.prototype.triggerExit=function(e){e.exit.call(e.element,e),e.triggered=!1},e.prototype.setScrollTop=function(){return this.viewportTop=window.pageYOffset,this},e.prototype.process=function(){return this.items.forEach(this._processItem,this),this.addId=null,this},e.prototype._processItem=function(e){var t=this.isVisible(e),i=t&&this.isInViewport(e),n=t&&!e.hasExitCallback&&this.isTopPastViewport(e);e.triggered||!i&&!n?!i&&e.triggered&&e.hasExitCallback&&!this.isBottomInViewport(e)&&this.triggerExit(e):this.triggerEnter(e)},e.prototype.isInViewport=function(e){var t=this.isTopInViewport(e),i=void 0;i=e.offset>=0?!!e.triggered&&this.isBottomInViewport(e):this.isBottomInViewport(e);var n=this.isViewportPastBottom(e),r=!t&&!i&&this.doesSpanViewport(e),s=this.isSideInViewport(e);return(t||i||r)&&!n&&s},e.prototype.isSideInViewport=function(e){var t=E(e.left,0,this.viewportWidth),i=E(e.right,0,this.viewportWidth),n=e.width>=this.viewportWidth&&!t&&!i&&e.left<0&&e.right>this.viewportWidth;return t||i||n},e.prototype.isVisible=function(e){return!(0===e.width&&0===e.height)},e.prototype.isTopPastViewport=function(e){return this.viewportTop>e.top},e.prototype.isViewportPastBottom=function(e){return this.viewportTop>=e.bottom},e.prototype.isTopInViewport=function(e){return E(e.top+e.offset,this.viewportTop,this.viewportBottom)},e.prototype.isBottomInViewport=function(e){return E(e.bottom,this.viewportTop,this.viewportBottom)},e.prototype.doesSpanViewport=function(e){var t=e.top+e.offset,i=e.bottom;return e.height>=this.viewportHeight&&t<this.viewportTop&&i>this.viewportBottom},e.flush=function(){var t=e.getInstance();t.addId&&(cancelAnimationFrame(t.addId),t.addId=null),t.items.forEach(function(t,i){e.remove(i)}),t.items.clear(),t.unbindEvents()},e.add=function(t){var i=e.getInstance(),n=void 0;return n=Array.isArray(t)?t.map(function(e){return i.add(e)}):i.add(t),i.addId&&cancelAnimationFrame(i.addId),i.addId=requestAnimationFrame(i.process.bind(i)),n},e.remove=function(t){var i=e.getInstance();i.items.has(t)&&(i.items.get(t).dispose(),i.items.delete(t))},e.update=function(){e.getInstance().update()},e.getInstance=function(){return b||(b=new e),b},w(e,[{key:"viewportBottom",get:function(){return this.viewportTop+this.viewportHeight}}]),e}(),T=function(e,t,i){var n,r,s,o,a;function c(){var l=Date.now()-o;l<t&&l>=0?n=setTimeout(c,t-l):(n=null,i||(a=e.apply(s,r),s=r=null))}null==t&&(t=100);var l=function(){s=this,r=arguments,o=Date.now();var l=i&&!n;return n||(n=setTimeout(c,t)),l&&(a=e.apply(s,r),s=r=null),a};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(a=e.apply(s,r),s=r=null,clearTimeout(n),n=null)},l},_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function S(e){return Array.isArray(e)?e:e&&"number"==typeof e.length?Array.from(e):[e]}var C=function(){function e(){_(this,e),this.ClassName={IMAGE:"odo-responsive-img",LOADED:"odo-responsive-img--loaded"},this.images=[],this._imageLoadHandler=this._handleImageLoad.bind(this),this._imageInViewHandler=this._handleImageInView.bind(this),this.updateOffsets=T(this._update,e.DEBOUNCE_TIME)}return e.prototype.initialize=function(){this._add(Array.from(document.querySelectorAll("."+this.ClassName.IMAGE+":not(picture)")))},e.prototype._add=function(e){var t=this,i=e.map(function(e){return t._getViewportOptions(e)}),n=I.add(i);this.images=this.images.concat(n.map(function(t,i){return{id:t,element:e[i]}}))},e.prototype._getViewportOptions=function(e){return{element:e,threshold:e.getAttribute("data-threshold")||0,enter:this._imageInViewHandler}},e.prototype._handleImageInView=function(e){this._loadImage(e.element)},e.prototype._loadImage=function(e){var t=e.querySelector("img");if(!t)throw new Error("Unable to find <img> element within Odo Responsive Images placeholder.");var i=t.getAttribute("data-srcset");if(null!==i)t.srcset=i,t.setAttribute("srcset",i),t.removeAttribute("data-srcset"),e._odoResponsiveImageUsed=!0;else{var n=e.parentElement,s=document.createElement("picture");s.className=e.className,function(e,t){for(var i=document.createDocumentFragment(),n=Array.from(e.childNodes),r=0;r<n.length;r++)"NOSCRIPT"!==n[r].nodeName&&i.appendChild(n[r]);t.appendChild(i)}(e,s);var o=e.getAttribute("data-type");o&&s.setAttribute("data-type",o),t=s.querySelector("img"),n.replaceChild(s,e),s._odoResponsiveImageUsed=!0}this._removeImageEntry(e),this.isImageLoaded(t)&&setTimeout(this._handleImageLoad.bind(this,{target:t}),30),t.addEventListener("load",this._imageLoadHandler,!1),t.addEventListener("error",this._imageLoadHandler,!1),r()({elements:[t]})},e.prototype._getImageIndexByPlaceholder=function(e){for(var t=null,i=0,n=this.images.length;i<n;i++)if(this.images[i].element===e){t=i;break}return t},e.prototype._removeImageEntry=function(e){var t=this._getImageIndexByPlaceholder(e);null!==t&&(I.remove(this.images[t].id),this.images.splice(t,1))},e.prototype.isImageLoaded=function(e){return e.naturalWidth>0},e.prototype._isBackgroundImage=function(e){return"background"===e.parentElement.getAttribute("data-type")},e.prototype._isUnloadedResponsiveImage=function(e){if(!function(e){return e&&1===e.nodeType}(e))throw new TypeError('Odo Responsive Images requires an element. Got: "'+e+'"');if(!e.classList.contains(this.ClassName.IMAGE))throw new TypeError(e+" is not a Odo Responsive Image.");return!0!==e._odoResponsiveImageUsed},e.prototype.isUntrackedImage=function(e){return null===this._getImageIndexByPlaceholder(e)},e.prototype._handleImageLoad=function(e){var t=this,i=e.target;i.parentNode&&(this.updateOffsets(),this._isBackgroundImage(i)?this._updateBackgroundImage(i):this._removeImageHandlers(i),requestAnimationFrame(function(){i.parentNode.classList.add(t.ClassName.LOADED)}))},e.prototype._updateBackgroundImage=function(e){e.parentNode.style.backgroundImage='url("'+(e.currentSrc||e.src)+'")'},e.prototype._update=function(){I.update()},e.prototype._removeImageHandlers=function(e){e&&(e.removeEventListener("load",this._imageLoadHandler,!1),e.removeEventListener("error",this._imageLoadHandler,!1))},e.prototype.flush=function(){var e=this;this.images.forEach(function(t){var i=t.element.querySelector("img");e._removeImageHandlers(i),I.remove(t.id)}),this.images.length=0;var t="."+this.ClassName.IMAGE+'[data-type="background"] img';Array.from(document.querySelectorAll(t)).forEach(function(t){e._removeImageHandlers(t)})},e.prototype.remove=function(e){var t=this;S(e).forEach(function(e){t._removeImageEntry(e),t._removeImageHandlers(e.querySelector("img"))})},e.prototype.add=function(e){var t=S(e).filter(this._isUnloadedResponsiveImage,this).filter(this.isUntrackedImage,this);0!==t.length&&this._add(t)},e.prototype.load=function(e){S(e).filter(this._isUnloadedResponsiveImage,this).forEach(this._loadImage,this)},e}();C.DEBOUNCE_TIME=300,(new C).initialize()}]);